package main

import (
	"fmt"
	"github.com/golang-jwt/jwt/v4"
)

func main() {
	tokenString := "eyJhbGciOiJQUzI1NiIsImtpZCI6ImlhbS0wMDA3LWlhbS1wczI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJvcHMtcG9ydGFsLWJhY2tvZmZpY2UiLCJleHAiOjE3MDAwMzUwNDAsImp0aSI6IjBiOWNlYTI2LWM5NDItNDEzOC05MjliLWMyZGIxYmYxMjczYSIsImlhdCI6MTcwMDAzNDE0MCwiaXNzIjoiaHR0cHM6Ly9pYW0tc3QuZGgtYXV0aC5pbyIsInN1YiI6ImRhcml1cy5jaGFuZHJhQGZvb2RwYW5kYS5jb20iLCJ1dWlkIjoiZTUxOTQ3NDEtMmRhOS00NTkwLWFiYTMtYmU1M2I5NTA2ZTgwIiwibmFtZSI6IkRhcml1cyBDaGFuZHJhIiwibmFtZXNwYWNlcyI6WyJGT19OTyIsIkZQX0JEIiwiRlBfREUiLCJGUF9KUCIsIkZQX0tIIiwiRlBfTU0iLCJGUF9NWSIsIkZQX1BIIiwiRlBfUEsiLCJGUF9TRyIsIkZQX1NLIiwiRlBfVEgiLCJGUF9UVyIsIkdMT0JBTCIsIkhGX0VHIiwiSFNfU0EiLCJNSk1fQVQiLCJOUF9IVSIsIk9QX1NFIiwiUE9fRkkiLCJUQl9BRSIsIlRCX0JIIiwiVEJfS1ciLCJUQl9PTSIsIlRCX1FBIiwiZGhoLWlhbSJdLCJhcHBsaWNhdGlvbnMiOnsiZGhoLWlhbSI6IklBTSIsIm9wcy1wb3J0YWwtYWR0ZWNoLWRpc3BsYXktcGx1Z2luIjoiT3BzIFBvcnRhbCBBZ2VudCBDYW1wYWlnbiBDZW50ZXIgUGx1Z2luIiwib3BzLXBvcnRhbC1kaC1hZHRlY2gtYWRjcmVkaXRzIjoiQWRDcmVkaXRzIiwib3BzLXBvcnRhbC1mdXplIjoib3BzLXBvcnRhbC1mdXplIiwib3BzLXBvcnRhbC1wbmMiOiJvcHMtcG9ydGFsLXBuYyJ9LCJwZXJtaXNzaW9ucyI6eyJkaGgtaWFtIjp7ImRoaC1pYW0iOlsidXNlciJdfSwib3BzLXBvcnRhbC1hZHRlY2gtZGlzcGxheS1wbHVnaW4iOnsiR0xPQkFMIjpbImFkbWluIl19LCJvcHMtcG9ydGFsLWRoLWFkdGVjaC1hZGNyZWRpdHMiOnsiRlBfU0ciOlsiYWRtaW4iXSwiR0xPQkFMIjpbImFkbWluIl19LCJvcHMtcG9ydGFsLWZ1emUiOnsiRk9fTk8iOlsiYWRtaW4iLCJtZW51LWFnZW50IiwicGhvdG8tYWdlbnQiLCJzY2hlZHVsZS1hZ2VudCJdLCJGUF9CRCI6WyJhZG1pbiIsIm1lbnUtYWdlbnQiLCJwaG90by1hZ2VudCJdLCJGUF9ERSI6WyJhZG1pbiIsIm1lbnUtYWdlbnQiLCJwaG90by1hZ2VudCIsInNjaGVkdWxlLWFnZW50Il0sIkZQX0pQIjpbImFkbWluIiwiaW5mbG93LWRhc2hib2FyZCIsIm1lbnUtYWdlbnQiLCJtZW51LWNyZWF0aW9uIiwicGhvdG8tYWdlbnQiXSwiRlBfS0giOlsiYWRtaW4iLCJpbmZsb3ctZGFzaGJvYXJkIiwibWVudS1hZ2VudCIsInBob3RvLWFnZW50Iiwic2NoZWR1bGUtYWdlbnQiXSwiRlBfTU0iOlsiYWRtaW4iLCJpbmZsb3ctZGFzaGJvYXJkIiwibWVudS1hZ2VudCIsInBob3RvLWFnZW50Iiwic2NoZWR1bGUtYWdlbnQiXSwiRlBfTVkiOlsiYWRtaW4iLCJpbmZsb3ctZGFzaGJvYXJkIiwibWVudS1hZ2VudCIsInBob3RvLWFnZW50Iiwic2NoZWR1bGUtYWdlbnQiXSwiRlBfUEgiOlsiYWRtaW4iLCJpbmZsb3ctZGFzaGJvYXJkIiwibWVudS1hZ2VudCIsInBob3RvLWFnZW50Iiwic2NoZWR1bGUtYWdlbnQiXSwiRlBfUEsiOlsiYWRtaW4iLCJpbmZsb3ctZGFzaGJvYXJkIiwibWVudS1hZ2VudCIsInBob3RvLWFnZW50Iiwic2NoZWR1bGUtYWdlbnQiXSwiRlBfU0ciOlsiYWRtaW4iLCJkZXYiLCJpbmZsb3ctZGFzaGJvYXJkIiwibWVudS1hZ2VudCIsIm1lbnUtY3JlYXRpb24iLCJwaG90by1hZ2VudCIsInNjaGVkdWxlLWFnZW50Iiwidmlld2VyIl0sIkZQX1NLIjpbImFkbWluIiwibWVudS1hZ2VudCIsInBob3RvLWFnZW50Iiwic2NoZWR1bGUtYWdlbnQiXSwiRlBfVEgiOlsiYWRtaW4iLCJpbmZsb3ctZGFzaGJvYXJkIiwibWVudS1hZ2VudCIsIm1lbnUtY3JlYXRpb24iLCJwaG90by1hZ2VudCIsInNjaGVkdWxlLWFnZW50Il0sIkZQX1RXIjpbImFkbWluIiwiaW5mbG93LWRhc2hib2FyZCIsIm1lbnUtYWdlbnQiLCJwaG90by1hZ2VudCIsInNjaGVkdWxlLWFnZW50Il0sIkhGX0VHIjpbImFkbWluIiwibWVudS1hZ2VudCIsInBob3RvLWFnZW50Il0sIkhTX1NBIjpbImFkbWluIiwiZGV2IiwiaW5mbG93LWRhc2hib2FyZCIsIm1lbnUtYWdlbnQiLCJtZW51LWNyZWF0aW9uIiwicGhvdG8tYWdlbnQiLCJzY2hlZHVsZS1hZ2VudCJdLCJNSk1fQVQiOlsiYWRtaW4iLCJtZW51LWFnZW50IiwicGhvdG8tYWdlbnQiLCJzY2hlZHVsZS1hZ2VudCJdLCJOUF9IVSI6WyJhZG1pbiIsIm1lbnUtYWdlbnQiLCJwaG90by1hZ2VudCIsInNjaGVkdWxlLWFnZW50Il0sIk9QX1NFIjpbImFkbWluIiwibWVudS1hZ2VudCIsInBob3RvLWFnZW50Iiwic2NoZWR1bGUtYWdlbnQiXSwiUE9fRkkiOlsiYWRtaW4iLCJtZW51LWFnZW50IiwicGhvdG8tYWdlbnQiLCJzY2hlZHVsZS1hZ2VudCJdLCJUQl9BRSI6WyJhZG1pbiIsImRldiIsImluZmxvdy1kYXNoYm9hcmQiLCJtZW51LWFnZW50IiwibWVudS1jcmVhdGlvbiIsInBob3RvLWFnZW50Il0sIlRCX0JIIjpbImFkbWluIiwiaW5mbG93LWRhc2hib2FyZCIsIm1lbnUtYWdlbnQiLCJtZW51LWNyZWF0aW9uIiwicGhvdG8tYWdlbnQiLCJzY2hlZHVsZS1hZ2VudCJdLCJUQl9LVyI6WyJhZG1pbiIsImRldiIsImluZmxvdy1kYXNoYm9hcmQiLCJtZW51LWFnZW50IiwibWVudS1jcmVhdGlvbiIsInBob3RvLWFnZW50Iiwic2NoZWR1bGUtYWdlbnQiXSwiVEJfT00iOlsiYWRtaW4iLCJkZXYiLCJpbmZsb3ctZGFzaGJvYXJkIiwibWVudS1hZ2VudCIsIm1lbnUtY3JlYXRpb24iXSwiVEJfUUEiOlsiYWRtaW4iLCJkZXYiLCJpbmZsb3ctZGFzaGJvYXJkIiwibWVudS1hZ2VudCIsIm1lbnUtY3JlYXRpb24iXX0sIm9wcy1wb3J0YWwtcG5jIjp7IkZQX1BIIjpbImFkbWluIl0sIkZQX1NHIjpbImFkbWluIl19fSwicHJpdmlsZWdlZF9wZXJtaXNzaW9uc19pbmNsdWRlZCI6ZmFsc2V9.G6bJSYyNqH8LBl1bjjIz_gp8oGHJmxEu3ms79T9vYVsqc-tfBizF_Yva9y3ANZhqRRYDfM00YDhqG0VCEzl0XFJ7pceGPVGu3VRuzvXr88K-Jwq55zJ7CqXnRay6C3Tr0IBNhVI9o-Vy-1XOiQNDK9LwhiHGjVIuunwDNIEpo4GVACSZOdD7Te2WcW-vFHdkbzWLnEbHhHohOaZWam1x5wtsgaiUl3SLh18gc3cIrrNAeZ9juvuqf5ymVGIID34_MxgtqyH9up9xVNNXEtVfuzqqxhQDb66kbXq8Y4G_vDO2lggwkdM_o_KOVGeEm-73opZKyQ7rOuy_AEBUP82hwQ"
	type MyCustomClaims struct {
		Name string `json:"name"`
		jwt.RegisteredClaims
	}
	normalClaim := &jwt.RegisteredClaims{}
	token, err := jwt.ParseWithClaims(tokenString, normalClaim, nil)
	fmt.Printf("claims %+v \n", token.Claims)
	fmt.Printf("email :  %+v \n", normalClaim.Subject)
	fmt.Println("error", err)
	//if claims, ok := token.Claims.(*MyCustomClaims); ok && token.Valid {
	//	fmt.Printf("%v %v", claims.Foo, claims.RegisteredClaims.Issuer)
	//} else {
	//	fmt.Println(err)
	//}
}
